# AGENTS 指針

## 共通ルール

- すべての会話とドキュメントは日本語で行うこと。
- コードスタイルはテスト駆動開発（TDD）を基本とする。
  1. 失敗するテストを書く。
  2. テストが通る最小限の実装を追加する。
  3. リファクタリングを行う。

## プロジェクト概要

- このリポジトリは Node.js と TypeScript を使用した顧客管理アプリケーションである。
- ヘキサゴナルアーキテクチャ（ポートアンドアダプター）を採用し、ドメイン駆動設計 (DDD) をベースに構成されている。
- 主な機能は顧客情報管理、購入履歴管理、検索機能、CSV 入出力である。

## 環境セットアップ（README から抜粋）

- 依存関係のインストール: `npm install`
- 開発サーバー起動: `npm run dev`
- テスト実行: `npm test`
- テスト監視モード: `npm run test:watch`
- ビルド: `npm run build`
- ビルド後の実行: `npm start`

## 達人プログラマーからのよく使う指針

- DRY (Don't Repeat Yourself) を常に意識する。
- コードは常にリファクタリングし、シンプルさを保つ。
- 自動化されたテストとビルドを重視し、継続的に実行する。
- "Tracer Bullets" のアプローチで小さく素早く動くものを作り、フィードバックを得る。
- テストしやすい設計を心掛け、必要に応じてプロトタイプで検証する。

## Git コミットルール

- ブランチ名は英数字とハイフンのみを使用し、特殊文字を含めない。
- コミットメッセージは日本語で書く。
- 1 行目を 50 文字以内にまとめ、変更点を命令形で簡潔に記述する。
- 必要に応じて本文で背景や目的を補足する。
- 1 つのコミットは 1 つの論理的変更に絞る。
- コミット前にテストを実行し、すべて成功していることを確認する。

## プルリクエストルール

- PR タイトルと本文も日本語で記述する。
- 変更内容の概要、背景、テスト結果を明確に書く。
- 関連する Issue があればリンクする。
- 大きすぎる変更は分割し、レビューしやすい粒度を保つ。
